{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { elem, word, showLoading } from \"../main\";\n\nexport function fetchingFrom() {\n  const options = {\n    method: \"GET\"\n  };\n\n  const params = new URLSearchParams({\n    key: '43271859-59a58ad2885d01442ce560ecb',\n    q: word,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${params}`;\n\n  showLoading();\n\n  return fetch(url, options)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { elem, lightbox, displayToast } from \"../main\";\n\nexport function render(data) {\n  if (data.hits.length === 0) {\n    displayToast(\"Sorry, there are no images matching your search query. Please try again!\");\n  }\n  else {\n    elem.gallery.innerHTML = '';\n    const images = data.hits;\n\n    const markup = images.map(image => `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                  <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n                </a>\n                <div class=\"stats\">\n                  <p class=\"text\">Likes<br/>${image.likes}</p>\n                  <p class=\"text\">Views<br/>${image.views}</p>\n                  <p class=\"text\">Comments<br/>${image.comments}</p>\n                  <p class=\"text\">Downloads<br/>${image.downloads}</p>\n                </div>\n              </li>`)\n      .join('');\n    elem.gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n  }\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchingFrom } from \"./js/pixabay-api\";\nimport { render } from \"./js/render-functions\";\n\n\nexport const elem = {\n  gallery: document.querySelector('.gallery'),\n  form: document.querySelector('.form'),\n  wordInput: document.querySelector('.input'),\n  loader: document.querySelector('.loader'),\n};\n\nexport const lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: \"alt\",\n  captionDelay: 250,\n  overlay: true,\n  overlayOpacity: 0.7,\n});\n\nexport let word = '';\n\nhideLoading();\n\nelem.form.addEventListener(\"submit\", e => {\n  e.preventDefault();\n\n  elem.gallery.innerHTML = '';\n  word = elem.wordInput.value.trim();\n\n  if (word !== '') {\n    fetchingFrom(word)\n      .then(data => {\n        render(data);\n        hideLoading();\n      })\n      .catch(error => console.log(error));\n  }\n  else {\n    displayToast(\"Please complete the field!\")\n  }\n  elem.form.reset();\n});\n\nexport function displayToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n\nexport function showLoading() {\n  elem.loader.style.display = 'block';\n}\n\nfunction hideLoading() {\n  elem.loader.style.display = 'none';\n}"],"names":["fetchingFrom","options","url","word","showLoading","response","render","data","displayToast","elem","markup","image","lightbox","SimpleLightbox","hideLoading","e","error","message","iziToast"],"mappings":"6vBAEO,SAASA,GAAe,CAC7B,MAAMC,EAAU,CACd,OAAQ,KACZ,EAUQC,EAAM,4BARG,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAE6C,GAE9C,OAAAC,IAEO,MAAMF,EAAKD,CAAO,EACtB,KAAKI,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CClBO,SAASC,EAAOC,EAAM,CAC3B,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAa,0EAA0E,MAEpF,CACHC,EAAK,QAAQ,UAAY,GAGzB,MAAMC,EAFSH,EAAK,KAEE,IAAII,GAAS;AAAA,gDACSA,EAAM,aAAa;AAAA,oDACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,8CAG5CA,EAAM,KAAK;AAAA,8CACXA,EAAM,KAAK;AAAA,iDACRA,EAAM,QAAQ;AAAA,kDACbA,EAAM,SAAS;AAAA;AAAA,oBAE7C,EACb,KAAK,EAAE,EACVF,EAAK,QAAQ,mBAAmB,YAAaC,CAAM,EAEnDE,EAAS,QAAO,CACjB,CACH,CCtBO,MAAMH,EAAO,CAClB,QAAS,SAAS,cAAc,UAAU,EAC1C,KAAM,SAAS,cAAc,OAAO,EACpC,UAAW,SAAS,cAAc,QAAQ,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEaG,EAAW,IAAIC,EAAe,gBAAiB,CAC1D,aAAc,MACd,aAAc,IACd,QAAS,GACT,eAAgB,EAClB,CAAC,EAEM,IAAIV,EAAO,GAElBW,IAEAL,EAAK,KAAK,iBAAiB,SAAUM,GAAK,CACxCA,EAAE,eAAc,EAEhBN,EAAK,QAAQ,UAAY,GACzBN,EAAOM,EAAK,UAAU,MAAM,KAAI,EAE5BN,IAAS,GACXH,EAAiB,EACd,KAAKO,GAAQ,CACZD,EAAOC,CAAI,EACXO,GACR,CAAO,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAGpCR,EAAa,4BAA4B,EAE3CC,EAAK,KAAK,OACZ,CAAC,EAEM,SAASD,EAAaS,EAAS,CACpCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CAEO,SAASb,GAAc,CAC5BK,EAAK,OAAO,MAAM,QAAU,OAC9B,CAEA,SAASK,GAAc,CACrBL,EAAK,OAAO,MAAM,QAAU,MAC9B"}